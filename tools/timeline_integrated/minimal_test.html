<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { border: 1px solid #ccc; padding: 20px; margin: 20px 0; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>Minimal Module Test</h1>
    <div id="output"></div>
    <div class="container" id="timelineContainer"></div>

    <script type="module">
        const output = document.getElementById('output');
        
        function log(message, isError = false) {
            const div = document.createElement('div');
            div.className = isError ? 'error' : 'success';
            div.textContent = new Date().toLocaleTimeString() + ': ' + message;
            output.appendChild(div);
            console.log(message);
        }
        
        try {
            log('Starting minimal test...');
            
            // Test 1: Import Events
            const { EVENTS } = await import('./core/Events.js');
            log('‚úÖ Events imported');
            
            // Test 2: Import DataManager
            const { DataManager } = await import('./core/DataManager.js');
            log('‚úÖ DataManager imported');
            
            // Test 3: Create DataManager
            const dataManager = new DataManager();
            log('‚úÖ DataManager created');
            
            // Test 4: Load data
            await dataManager.loadData();
            log('‚úÖ Data loaded: ' + dataManager.getSegments().length + ' segments');
            
            // Test 5: Import TimelineViewer
            const { TimelineViewer } = await import('./TimelineViewer/TimelineViewer.js');
            log('‚úÖ TimelineViewer imported');
            
            // Test 6: Create TimelineViewer
            const timelineViewer = new TimelineViewer(dataManager);
            log('‚úÖ TimelineViewer created');
            
            // Test 7: Initialize TimelineViewer
            const container = document.getElementById('timelineContainer');
            await timelineViewer.initialize(container);
            log('‚úÖ TimelineViewer initialized and rendered');
            
            log('üéâ All tests passed!');
            
        } catch (error) {
            log('‚ùå Error: ' + error.message, true);
            console.error('Full error:', error);
        }
    </script>
</body>
</html>