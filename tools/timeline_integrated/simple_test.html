<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .pass { background: #d4edda; color: #155724; }
        .fail { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Simple Module Test</h1>
    <div id="output"></div>

    <script>
        const output = document.getElementById('output');
        
        function test(name, result, message) {
            const div = document.createElement('div');
            div.className = `test ${result ? 'pass' : 'fail'}`;
            div.textContent = `${name}: ${result ? 'PASS' : 'FAIL'} - ${message}`;
            output.appendChild(div);
        }
        
        // Test 1: Basic JavaScript
        test('Basic JavaScript', true, 'JavaScript is working');
        
        // Test 2: ES6 Support
        try {
            eval('class TestClass {}');
            test('ES6 Classes', true, 'ES6 classes supported');
        } catch (e) {
            test('ES6 Classes', false, e.message);
        }
        
        // Test 3: Module Support
        test('Module Support', 'no' in document.createElement('script'), 
            'Module support: ' + ('no' in document.createElement('script')));
        
        // Test 4: Fetch API
        fetch('../combined_transcript.json')
            .then(response => {
                if (response.ok) {
                    test('Data File Access', true, `Data accessible (${response.status})`);
                    return response.json();
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            })
            .then(data => {
                test('Data Parsing', true, `Parsed ${data.segments.length} segments`);
            })
            .catch(error => {
                test('Data File Access', false, error.message);
            });
        
        // Test 5: Try dynamic import
        import('./core/Events.js')
            .then(module => {
                test('Dynamic Import', true, 'Events module loaded');
                console.log('Events module:', module);
            })
            .catch(error => {
                test('Dynamic Import', false, error.message);
                console.error('Import error:', error);
            });
    </script>
</body>
</html>